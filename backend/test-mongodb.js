import mongoose from 'mongoose';\nimport { config } from 'dotenv';\n\n// Load environment variables\nconfig();\n\nasync function testMongoConnection() {\n  const mongoUri = process.env.MONGODB_URI;\n  \n  if (!mongoUri) {\n    console.error('‚ùå MONGODB_URI not found in environment variables');\n    console.log('üí° Please check your backend/.env file');\n    process.exit(1);\n  }\n\n  console.log('üîç Testing MongoDB connection...');\n  console.log('üìç URI:', mongoUri.replace(/\\/\\/.*@/, '//***:***@')); // Hide credentials\n  \n  try {\n    // Attempt connection\n    await mongoose.connect(mongoUri, {\n      serverSelectionTimeoutMS: 10000, // 10 second timeout\n    });\n    \n    console.log('‚úÖ Successfully connected to MongoDB!');\n    \n    // Test basic operations\n    const collections = await mongoose.connection.db.listCollections().toArray();\n    console.log(`üìä Database: ${mongoose.connection.name}`);\n    console.log(`üìã Collections found: ${collections.length}`);\n    \n    if (collections.length > 0) {\n      console.log('   Available collections:');\n      collections.forEach(col => {\n        console.log(`   - ${col.name}`);\n      });\n    }\n    \n    // Test write operation\n    const testCollection = mongoose.connection.db.collection('connection_test');\n    await testCollection.insertOne({ \n      test: true, \n      timestamp: new Date(),\n      app: 'brand-mention-tracker'\n    });\n    console.log('‚úÖ Write operation successful');\n    \n    // Clean up test document\n    await testCollection.deleteOne({ test: true });\n    console.log('üßπ Cleaned up test data');\n    \n    await mongoose.disconnect();\n    console.log('üéâ MongoDB connection test completed successfully!');\n    console.log('');\n    console.log('üöÄ Your database is ready! You can now start the application:');\n    console.log('   npm run dev');\n    \n  } catch (error) {\n    console.error('‚ùå MongoDB connection failed:');\n    console.error('Error:', error.message);\n    console.log('');\n    console.log('üí° Troubleshooting tips:');\n    \n    if (error.message.includes('Authentication failed')) {\n      console.log('   - Check your username and password in MONGODB_URI');\n      console.log('   - Make sure the database user has proper permissions');\n    }\n    \n    if (error.message.includes('ENOTFOUND') || error.message.includes('timeout')) {\n      console.log('   - Check your internet connection');\n      console.log('   - Verify the cluster URL is correct');\n      console.log('   - Make sure IP address is whitelisted (0.0.0.0/0 for development)');\n    }\n    \n    if (error.message.includes('bad auth')) {\n      console.log('   - Double-check your MongoDB Atlas username and password');\n      console.log('   - Make sure you\\'re using the database user, not your Atlas account');\n    }\n    \n    console.log('');\n    console.log('üìö See API_KEYS_GUIDE.md for detailed setup instructions');\n    process.exit(1);\n  }\n}\n\n// Run the test\ntestMongoConnection();